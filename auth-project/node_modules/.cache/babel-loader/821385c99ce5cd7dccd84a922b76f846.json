{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A'xenta R\\\\Desktop\\\\auth-project\\\\auth-project\\\\src\\\\SecuredApp.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport App from './App';\nimport './App.css';\nimport { AuthProvider, AuthService, useAuth } from 'react-oauth2-pkce';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authService = new AuthService({\n  clientId: '162424205051293113@development',\n  authorizeEndpoint: 'https://accounts.zitadel.ch/oauth/v2/authorize',\n  tokenEndpoint: 'https://api.zitadel.ch/oauth/v2/token',\n  redirectUri: \"http://localhost:3000\",\n  scopes: ['openid', 'profile', 'email']\n});\n\nfunction SecuredApp() {\n  _s();\n\n  const {\n    authService\n  } = useAuth();\n\n  const login = async () => authService.authorize();\n\n  const logout = async () => authService.logout();\n\n  console.log(authService);\n  const {\n    testvalue\n  } = useParams();\n\n  if (authService.isPending()) {\n    console.log(testvalue);\n\n    if (testvalue) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: login()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"if-not-logged-in\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Not logged in yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              logout();\n              login();\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n  if (!authService.isAuthenticated()) {\n    if (testvalue) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: login()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"if-not-logged-in\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Not Logged in yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: login(),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  if (authService.isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Hello, \", JSON.stringify(authService.getUser().name).slice(1, -1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userLabel\",\n          children: \"Family name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userInfo\",\n          children: [JSON.stringify(authService.getUser().family_name).slice(1, -1), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userLabel\",\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userInfo\",\n          children: [\" \", JSON.stringify(authService.getUser().name).slice(1, -1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userLabel\",\n          children: \"Prefered username: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userInfo\",\n          children: [\" \", JSON.stringify(authService.getUser().preferred_username, null, 2).slice(1, -1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userLabel\",\n          children: \"Email: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userInfo\",\n          children: [\" \", JSON.stringify(authService.getUser().email, null, 2).slice(1, -1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userLabel\",\n          children: \"Is email verified: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"userInfo\",\n          children: [\" \", JSON.stringify(authService.getUser().email_verified, null, 2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"logOutBtn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout(),\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SecuredApp, \"zgfCtla/FY6JTBQugVquyvN7SuY=\", false, function () {\n  return [useAuth, useParams];\n});\n\n_c = SecuredApp;\n\nfunction WrappedSecuredApp() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n      authService: authService,\n      children: /*#__PURE__*/_jsxDEV(SecuredApp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = WrappedSecuredApp;\nexport default WrappedSecuredApp;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SecuredApp\");\n$RefreshReg$(_c2, \"WrappedSecuredApp\");","map":{"version":3,"names":["React","App","AuthProvider","AuthService","useAuth","useParams","authService","clientId","authorizeEndpoint","tokenEndpoint","redirectUri","scopes","SecuredApp","login","authorize","logout","console","log","testvalue","isPending","isAuthenticated","JSON","stringify","getUser","name","slice","family_name","preferred_username","email","email_verified","WrappedSecuredApp"],"sources":["C:/Users/A'xenta R/Desktop/auth-project/auth-project/src/SecuredApp.js"],"sourcesContent":["import React from 'react';\nimport App from './App';\nimport './App.css';\nimport {\n    AuthProvider, \n    AuthService, \n    useAuth, \n    } from 'react-oauth2-pkce'   \n    import { useParams } from 'react-router-dom';\n\nconst authService = new AuthService({   \n    clientId: '162424205051293113@development',    \n    authorizeEndpoint: 'https://accounts.zitadel.ch/oauth/v2/authorize',  \n    tokenEndpoint: 'https://api.zitadel.ch/oauth/v2/token',   \n    redirectUri: \"http://localhost:3000\",  \n    scopes: ['openid', 'profile', 'email']  \n});  \n\nfunction SecuredApp() {\n    const { authService } = useAuth(); \n    const login = async () => authService.authorize(); \n    const logout = async () => authService.logout(); \n    console.log(authService);\n    const { testvalue } = useParams();\n\n    if (authService.isPending()) { \n        console.log(testvalue);\n        if (testvalue) {\n            return <div>\n                {login()}\n            </div>\n        }\n        else {\n            return <div className='if-not-logged-in'>\n                <div>\n                <p>Not logged in yet</p>\n                <button onClick={()=> {\n                    logout() ;\n                    login();\n                    }}>Login</button>\n                </div>\n        </div>\n        }\n    }\n\n    if (!authService.isAuthenticated()) { \n        if (testvalue) {\n            return <div>\n                {login()}\n            </div>\n        }\n        else {\n            return (\n                <div className='if-not-logged-in'>\n                    <div>\n                    <p>Not Logged in yet</p>\n                    <button onClick={login()}>Login</button>\n                    </div>\n                </div>\n            )\n        }\n    }\n\n    if (authService.isAuthenticated) {\n        return(\n            <div className='profile-container'>\n                <div className='profile-details'>\n                <h2>Hello, {JSON.stringify(authService.getUser().name).slice(1, -1)}</h2>\n                <p className='userLabel'>Family name: </p>\n                <p className='userInfo'>{JSON.stringify(authService.getUser().family_name).slice(1, -1)} </p>\n                <p className='userLabel'>Name: </p>\n                <p className='userInfo'> {JSON.stringify(authService.getUser().name).slice(1, -1)}</p>\n                <p className='userLabel'>Prefered username: </p>\n                <p className='userInfo'> {JSON.stringify(authService.getUser().preferred_username, null, 2).slice(1, -1)}</p>\n                <p className='userLabel'>Email: </p>\n                <p className='userInfo'> {JSON.stringify(authService.getUser().email, null, 2).slice(1, -1)}</p>\n                <p className='userLabel'>Is email verified: </p>\n                <p className='userInfo'> {JSON.stringify(authService.getUser().email_verified, null, 2)}</p>\n                <button onClick={logout} className=\"logOutBtn\">Logout</button>\n            </div>\n            </div>\n        )\n    }\n\n    return ( \n        <div>\n            <button onClick={logout()}>Logout</button>\n            <App />\n        </div>\n    );\n}\n\nfunction WrappedSecuredApp() {\n    return (\n        <div>\n            <AuthProvider authService={authService} > \n                <SecuredApp />\n            </AuthProvider>\n        </div>\n    );\n}\n\nexport default WrappedSecuredApp; \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}